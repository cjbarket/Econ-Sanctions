---
title: "Testing R Packages"
format: html
editor: visual
---

## R Package Demos

```{r}
#|: package-installation
# load/install all necessary packages

#install.packages("tidyverse")
#install.packages("tidymodels")
#install.packages("quantmod")
#install.packages(c("rvest", "dplyr"))
#install.packages("Quandl")
#install.packages("tidyquant")


library(tidyverse) 
library(tidymodels)
library(quantmod)
library(rvest)
library(dplyr)
library(Quandl)
library(tidyquant)



```

All demos should follow the form below.

```{r}
#|: first-package-demo
# Fetch Yahoo Finance data starting from 2010 for QQQ. The source can be modified. For instance, stooq may have more international indexes than Yahoo Finance. https://cran.r-project.org/web/packages/quantmod/quantmod.pdf


getSymbols("QQQ", from="2010-01-01", src="yahoo")
head(QQQ)


```

```{r}
#|: second-package-demo
# Using the rvest package to scrape QQQ data from Yahoo Finance. rvest is compatible with a vast selection of other websites, not just Yahoo Finance. Data can include high, low, open, close, volume, etc.

# code here

# QQQ on Yahoo Finance.
url <- "https://finance.yahoo.com/quote/QQQ/history?p=QQQ"

# Fetching data
webpage <- read_html(url)
data <- webpage %>%
  html_table(fill = TRUE) %>%
  .[[1]]

head(data)

```

```{r}
#Package 3: Tidyquant

#Tidyquant combines the functionality of many packages, including quantmod, PerformanceAnalytics, zoo, xts, and TTR. Tidyquant also contains data for indexes. Apple was used in this example, but "AAPL" can be replaced with any stock ticker to get the information for a stock.

#Getting the stock prices of Apple (AAPL) from Yahoo Finance
aapl_prices <- tq_get("AAPL", get = "stock.prices")

#Getting the stock prices for a specific time frame
appl_prices_limited <- tq_get("AAPL", get = "stock.prices", start_date = "2020-01-01", end_date = "2022-12-31")

#Getting the stock prices of multiple stocks
three_stocks <- tq_get(c("AAPL", "GOOG", "TSLA"), get = "stock.prices")

```

```{r}
#Package 4: Quandl supports both time-series data and datatables. Apple was used in this example, but "AAPL" can be replaced with any stock ticker to get the information for a stock.

#Getting the stock price data for Apple (AAPL)
appl_quandl <- Quandl('WIKI/AAPL')

#Getting the stock price data for a specific time frame 
appl_limited_quandl = Quandl("WIKI/AAPL", start_date = "2015-01-01", end_date = "2022-12-31")




```
